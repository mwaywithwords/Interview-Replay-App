{
  "meta": {
    "project": "Replay.ai Interview & Performance Review Platform",
    "date": "2026-01-21",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "Replay.ai is a web-based platform enabling professionals to record, replay, and analyze practice sessions for job interviews and trading reviews. It offers audio/video recording, timestamped bookmarks, note-taking, transcripts, and AI-powered insights to help users improve performance systematically.",
  "core_goals": [
    "Enable seamless recording and replay of interview and trading sessions with both audio and video support.",
    "Provide tools for users to annotate sessions via bookmarks, notes, and transcripts for detailed review.",
    "Integrate AI capabilities to generate transcripts, summaries, performance scores, and bookmark suggestions to enhance user insights.",
    "Facilitate secure sharing of session recordings with read-only access for external reviewers.",
    "Offer an intuitive dashboard for session management with filtering, statistics, and quick navigation.",
    "Ensure robust security and privacy with user authentication, RLS policies, and secure media storage.",
    "Support scalability and reliability to handle thousands of concurrent users and AI jobs efficiently."
  ],
  "key_features": [
    "User authentication through Supabase Auth supporting email/password signup, signin, and session management.",
    "Comprehensive session management supporting create, read, update, and delete operations for interview and trading sessions with metadata and status workflows.",
    "In-browser audio and video recording with automatic upload to Supabase Storage and playback controls with seek and speed adjustments.",
    "Timestamped bookmarks categorized by type with create, edit, delete, and quick navigation during playback.",
    "Session-level notes with auto-save functionality and manual transcript editing with search and highlighting.",
    "AI job queue system for transcription, summarization, scoring, and bookmark suggestions, including job management and retry abilities.",
    "Secure session sharing via generated token-based URLs with read-only access and revocation features.",
    "Dashboard providing session lists, stats cards, filtering by type, and pagination for efficient session browsing.",
    "Grouping entities management enabling companies and trading symbols to organize sessions logically.",
    "Dark/light theme toggle supporting system preference detection and responsive mobile-first UI design."
  ],
  "user_flow_summary": [
    "New users visit the landing page, sign up, land on an empty dashboard, and create their first session.",
    "Users create new sessions by specifying title, type (interview/trading), recording type (audio/video), associated company or symbol, and optional context, then start recording directly in-browser.",
    "Recorded sessions automatically upload audio/video to secure storage and update session status to ready for review.",
    "Users open sessions from the dashboard to play recordings, add bookmarks at key timestamps, add notes, paste transcripts, and queue AI analysis jobs.",
    "Users can generate and copy share links from session details to share read-only access with external reviewers without authentication.",
    "AI analysis flows allow users to queue jobs for transcription, summary, scoring, or bookmark suggestions, view processing status, and review results once completed."
  ],
  "validation_criteria": [
    "Successful signup, signin, and signout flows with correct session handling and access control.",
    "Creation, editing, and deletion of sessions, bookmarks, notes, and transcripts with real-time UI updates and proper persistence in the database.",
    "Audio and video recording start, stop, upload to Supabase Storage, and playback with seek and speed controls functioning correctly.",
    "AI job queue operations complete with correct status transitions, error handling, output viewing, and user retry or cancellation.",
    "Share links generate correctly, provide secure read-only access without authentication, and correctly enforce revocation and expiration policies.",
    "Dashboard displays accurate session lists, stats, and filtering consistent with user data and session types.",
    "Row Level Security policies strictly enforce data privacy, ensuring users can only access their own or shared data as permitted.",
    "Responsive UI works seamlessly across supported browsers and devices, maintaining accessibility standards and theme preferences."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "Next.js 16 (App Router)",
      "React 19",
      "Tailwind CSS v4",
      "shadcn/ui",
      "Supabase (Auth, Database, Storage, Edge Functions)",
      "TanStack React Query",
      "Lucide React",
      "ESLint",
      "Prettier"
    ],
    "features": [
      {
        "name": "Authentication",
        "description": "User authentication with Supabase Auth including sign in, sign up, and sign out flows with email/password",
        "files": [
          "app/auth/signin/page.tsx",
          "app/auth/signup/page.tsx",
          "app/auth/signout/route.ts",
          "app/auth/callback/route.ts",
          "app/auth/auth-code-error/page.tsx",
          "components/auth/SignInForm.tsx",
          "components/auth/SignUpForm.tsx",
          "lib/supabase/server.ts",
          "lib/supabase/client.ts",
          "middleware.ts"
        ]
      },
      {
        "name": "Dashboard",
        "description": "Main dashboard showing session library with stats cards, filtering, and session list management",
        "files": [
          "app/dashboard/page.tsx",
          "components/dashboard/StatsCards.tsx",
          "components/sessions/SessionsList.tsx",
          "app/actions/stats.ts"
        ]
      },
      {
        "name": "Session Management",
        "description": "Create, read, update, and delete interview/trading sessions with metadata, status tracking, and organization by company or symbol",
        "files": [
          "app/sessions/new/page.tsx",
          "app/sessions/[id]/page.tsx",
          "app/sessions/[id]/session-detail.tsx",
          "components/sessions/NewSessionForm.tsx",
          "app/actions/sessions.ts",
          "types/index.ts"
        ]
      },
      {
        "name": "Audio Recording",
        "description": "Browser-based audio recording with WebRTC, automatic upload to Supabase Storage, and playback controls",
        "files": [
          "components/AudioRecorder.tsx",
          "components/AudioPlayer.tsx",
          "lib/supabase/storage.ts",
          "lib/supabase/storage-client.ts",
          "app/actions/storage.ts"
        ]
      },
      {
        "name": "Video Recording",
        "description": "Browser-based video recording with WebRTC, automatic upload to Supabase Storage, and video playback",
        "files": [
          "components/VideoRecorder.tsx",
          "components/VideoPlayer.tsx",
          "lib/supabase/storage.ts",
          "lib/supabase/storage-client.ts",
          "app/actions/storage.ts"
        ]
      },
      {
        "name": "Bookmarks",
        "description": "Add, edit, and delete timestamped bookmarks during session replay with category labels and quick navigation",
        "files": [
          "components/sessions/BookmarksList.tsx",
          "app/actions/bookmarks.ts",
          "types/index.ts"
        ]
      },
      {
        "name": "Session Notes",
        "description": "Add and edit personal notes for sessions with auto-save functionality",
        "files": [
          "components/sessions/SessionNoteEditor.tsx",
          "app/actions/notes.ts",
          "types/index.ts"
        ]
      },
      {
        "name": "Transcripts",
        "description": "Manual transcript editor with search/highlighting and text pasting capabilities",
        "files": [
          "components/sessions/TranscriptEditor.tsx",
          "app/actions/transcripts.ts",
          "types/index.ts"
        ]
      },
      {
        "name": "AI Actions",
        "description": "Queue and manage AI jobs for transcription, summarization, scoring, and bookmark suggestions via Supabase Edge Functions",
        "files": [
          "components/sessions/AIActionsPanel.tsx",
          "app/actions/ai-jobs.ts",
          "supabase/functions/ai_run_job/index.ts",
          "types/index.ts"
        ]
      },
      {
        "name": "Session Sharing",
        "description": "Generate secure, token-based share links for read-only session access with revocation capability",
        "files": [
          "app/share/[token]/page.tsx",
          "app/share/[token]/shared-session-view.tsx",
          "components/share/SharedMediaPlayer.tsx",
          "components/share/SharedBookmarksList.tsx",
          "components/share/SharedTranscriptViewer.tsx",
          "components/share/SharedNoteViewer.tsx",
          "app/actions/shares.ts",
          "types/index.ts"
        ]
      },
      {
        "name": "Company Management",
        "description": "Create and manage target companies for organizing interview sessions",
        "files": [
          "app/actions/companies.ts",
          "types/index.ts"
        ]
      },
      {
        "name": "Symbol Management",
        "description": "Create and manage trading symbols/tickers for organizing trading sessions",
        "files": [
          "app/actions/symbols.ts",
          "types/index.ts"
        ]
      },
      {
        "name": "Theme Toggle",
        "description": "Dark/light mode theme switching with system preference detection",
        "files": [
          "components/layout/ThemeToggle.tsx",
          "components/providers/ThemeProvider.tsx",
          "app/globals.css"
        ]
      },
      {
        "name": "Layout Components",
        "description": "Reusable layout components including app shell, page headers, section cards, and empty states",
        "files": [
          "components/layout/AppShell.tsx",
          "components/layout/PageHeader.tsx",
          "components/layout/SectionCard.tsx",
          "components/layout/EmptyState.tsx",
          "app/layout.tsx"
        ]
      },
      {
        "name": "Error Handling",
        "description": "Global and route-level error boundaries for graceful error handling",
        "files": [
          "app/error.tsx",
          "app/global-error.tsx"
        ]
      },
      {
        "name": "Landing Page",
        "description": "Public-facing landing page showcasing features with hero section and call-to-action",
        "files": [
          "app/page.tsx",
          "lib/branding.ts"
        ]
      }
    ]
  }
}
